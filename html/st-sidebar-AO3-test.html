<!DOCTYPE html>
<html lang="en">

<head>
    <title>test menu</title>
    <link rel="stylesheet" href="st-sidebar-AO3-test.css">
    <link rel="script" href="st-menu.js">
</head>

<body>
    <h3 class="landmark heading">Tag priority</h3>
    <fieldset class="tpf__menu tpf__filters">
        <legend>Tag priority:</legend> <!--is this redundant?-->
        <dl>
            <dt class="tpf__filter-head expanded">
                <button type="button" class="expander" aria-expanded="false" aria-controls="tpf__menu-content">
                    Tag priority
                </button>
                <button type="button" id="tpf__filter-toggle" class="current" aria-pressed="true">On</button>
            </dt>
            <dd id="tpf__menu-content" class="expandable">
                <section class="tpf__wrap" aria-describedby="tpf__header-include">
                    <div class="tpf__head">
                        <h4 id="tpf__header-include">Include</h4> (at least one)
                        <button type="button" class="question" aria-label="help">?</button>
                    </div>
                    <section class="tpf__tag-block include characters">
                        <label id="tpf__include-chars">
                            <input type="checkbox">
                            <span class="indicator" aria-hidden="true"></span>
                            <span id="block-include-chars"><span class="landmark">Include </span>Characters</span>
                        </label>
                        <textarea class="tpf__tag-list" rows="5" autocomplete="off" autocapitalize="off"
                            spellcheck="false" placeholder="Gilgamesh, Enkidu"></textarea>
                        <label class="tpf__within">...within the first <input type="text" class="tpf__tag-lim">
                            tags</label>
                    </section>
                    <section class="tpf__tag-block include relationships">
                        <label>
                            <input type="checkbox">
                            <span class="indicator" aria-hidden="true"></span>
                            <span><span class="landmark">Include </span>Relationships</span>
                        </label>
                        <textarea class="tpf__tag-list" rows="5" autocomplete="off" autocapitalize="off"
                            spellcheck="false" placeholder="Gilgamesh*Enkidu, Enkidu*Gilgamesh"></textarea>
                        <label class="tpf__within">...within the first <input type="text" class="tpf__tag-lim">
                            tags</label>
                    </section>
                </section>
                <section class="tpf__wrap" aria-describedby="tpf__header-exclude">
                    <div class="tpf__head">
                        <h4 id="tpf__header-exclude">Exclude</h4>
                        <button type="button" class="question" aria-label="help">?</button>
                    </div>
                    <section class="tpf__tag-block exclude characters">
                        <label>
                            <input type="checkbox">
                            <span class="indicator" aria-hidden="true"></span>
                            <span><span class="landmark">Exclude </span>Characters</span>
                        </label>
                        <textarea class="tpf__tag-list" rows="5" autocomplete="off" autocapitalize="off"
                            spellcheck="false"></textarea>
                        <label class="tpf__within">...within the first <input type="text" class="tpf__tag-lim"
                                aria-label="N">
                            tags</label>
                    </section>
                    <section class="tpf__tag-block exclude relationships">
                        <label>
                            <input type="checkbox">
                            <span class="indicator" aria-hidden="true"></span>
                            <span><span class="landmark">Exclude </span>Relationships</span>
                        </label>
                        <textarea class="tpf__tag-list" rows="5" autocomplete="off" autocapitalize="off"
                            spellcheck="false" placeholder="*Ishtar*"></textarea>
                        <label class="tpf__within">...within the first <input type="text" class="tpf__tag-lim">
                            tags</label>
                    </section>
                </section>
                <section class="tpf__settings" aria-describedby="tpf__header-settings">
                    <h3 id="tpf__header-settings" class="landmark">Settings</h3>
                    <fieldset>
                        <legend>
                            Format
                        </legend>
                        <label>
                            <input type="radio" name="format" id="tpf__opt-wildcard" value="wildcard" form=""
                                checked><!--omit from parent form-->
                            <span class="indicator" aria-hidden="true"></span>
                            <span>wildcards (*)</span>
                        </label>
                        <label>
                            <input type="radio" name="format" id="tpf__opt-regex" value="regex"
                                form=""><!--omit from parent form-->
                            <span class="indicator" aria-hidden="true"></span>
                            <span>regex</span>
                        </label>
                        <button type="button" class="question" aria-label="help">?</button>
                    </fieldset>
                    <div class="actions">
                        <button type="button" aria-label="Config, Import/Export">‚öôÔ∏è Config, üíæ Imp/Export</button>
                    </div>
                </section>
                <section class="actions" aria-describedby="tpf__header-submit">
                    <h3 id="tpf__header-submit" class="landmark">
                        Submit
                    </h3><button id="tpf__apply" type="button" aria-label="Apply filters">
                        ü°Ü Apply filters
                    </button>
                </section>
                <p class="footnote">
                    <a href="#work-filters">Clear Filters</a>
                </p>
            </dd>
        </dl>
    </fieldset>
</body>

</html>

<!--
TODO 
    [x] aria-expanded in html and js (collapse control)
    [-] add accessibility label to the toggle button:
    "priority filters are " + (button text) "on/off"
    [x] link headers to sections
    [x] label the '?' button
    [-] .bottom section to div?
    [x] hide emojis from screen readers (aria-hidden="true" or aria-label)
    [x] landmark classes: WHAT ARE THEY?

--FIXME--: when I add this before "characters" and "relationships", the CSS rule
no longer applies, so they aren't bolded on check:
<span class="landmark">Include</span>
<span class="landmark">Exclude</span>
[x] fixed!
-->